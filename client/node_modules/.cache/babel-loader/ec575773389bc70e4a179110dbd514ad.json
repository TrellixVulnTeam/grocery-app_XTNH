{"ast":null,"code":"import jwt_decode from \"jwt-decode\";\nlet initialState = {\n  currUser: jwt_decode(localStorage.getItem(\"jwt\")).id\n};\n\nconst auth = (state = initialState, action) => {\n  console.log(state.currUser);\n  console.log(state.data);\n\n  switch (action.type) {\n    case \"initialLogin\":\n      let obj = [];\n\n    case \"login\":\n      let j = jwt_decode(action.payload.token);\n      console.log(\"token decoded\", j);\n      localStorage.setItem(\"jwt\", action.payload.token);\n      return { ...state,\n        currUser: action.payload.user\n      };\n\n    case \"signup\":\n      let email = action.payload.email;\n      let value = JSON.stringify(action.payload);\n      localStorage.setItem(email, value);\n\n    case \"signout\":\n      localStorage.setItem(\"jwt\", null);\n      return { ...state,\n        currUser: null\n      };\n\n    case \"editUser\":\n      let newUser = action.payload;\n      return { ...state,\n        currUser: newUser\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["/home/avnish.singh/Avnish/grocery-app/client/src/reducer/auth.js"],"names":["jwt_decode","initialState","currUser","localStorage","getItem","id","auth","state","action","console","log","data","type","obj","j","payload","token","setItem","user","email","value","JSON","stringify","newUser"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,IAAIC,YAAY,GAAG;AACfC,EAAAA,QAAQ,EAAEF,UAAU,CAACG,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAD,CAAV,CAAwCC;AADnC,CAAnB;;AAIA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACL,QAAlB;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,IAAlB;;AACA,UAAQH,MAAM,CAACI,IAAf;AACI,SAAK,cAAL;AACI,UAAIC,GAAG,GAAG,EAAV;;AACJ,SAAK,OAAL;AACI,UAAIC,CAAC,GAAGd,UAAU,CAACQ,MAAM,CAACO,OAAP,CAAeC,KAAhB,CAAlB;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BI,CAA7B;AACAX,MAAAA,YAAY,CAACc,OAAb,CAAqB,KAArB,EAA4BT,MAAM,CAACO,OAAP,CAAeC,KAA3C;AACA,aAAO,EACH,GAAGT,KADA;AAEHL,QAAAA,QAAQ,EAAEM,MAAM,CAACO,OAAP,CAAeG;AAFtB,OAAP;;AAIJ,SAAK,QAAL;AACI,UAAIC,KAAK,GAAGX,MAAM,CAACO,OAAP,CAAeI,KAA3B;AACA,UAAIC,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAed,MAAM,CAACO,OAAtB,CAAZ;AACAZ,MAAAA,YAAY,CAACc,OAAb,CAAqBE,KAArB,EAA4BC,KAA5B;;AAEJ,SAAK,SAAL;AACIjB,MAAAA,YAAY,CAACc,OAAb,CAAqB,KAArB,EAA4B,IAA5B;AACA,aAAO,EACH,GAAGV,KADA;AAEHL,QAAAA,QAAQ,EAAE;AAFP,OAAP;;AAIJ,SAAK,UAAL;AACI,UAAIqB,OAAO,GAAGf,MAAM,CAACO,OAArB;AACA,aAAO,EACH,GAAGR,KADA;AAEHL,QAAAA,QAAQ,EAAEqB;AAFP,OAAP;;AAKJ;AACI,aAAOhB,KAAP;AA9BR;AAgCH,CAnCD;;AAsCA,eAAeD,IAAf","sourcesContent":["import jwt_decode from \"jwt-decode\"\nlet initialState = {\n    currUser: jwt_decode(localStorage.getItem(\"jwt\")).id,\n};\n\nconst auth = (state = initialState, action) => {\n    console.log(state.currUser);\n    console.log(state.data);\n    switch (action.type) {\n        case \"initialLogin\":\n            let obj = []\n        case \"login\":\n            let j = jwt_decode(action.payload.token)\n            console.log(\"token decoded\", j);\n            localStorage.setItem(\"jwt\", action.payload.token)\n            return {\n                ...state,\n                currUser: action.payload.user,\n            };\n        case \"signup\":\n            let email = action.payload.email;\n            let value = JSON.stringify(action.payload);\n            localStorage.setItem(email, value);\n\n        case \"signout\":\n            localStorage.setItem(\"jwt\", null)\n            return {\n                ...state,\n                currUser: null,\n            };\n        case \"editUser\":\n            let newUser = action.payload\n            return {\n                ...state,\n                currUser: newUser,\n            };\n\n        default:\n            return state;\n    }\n};\n\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}