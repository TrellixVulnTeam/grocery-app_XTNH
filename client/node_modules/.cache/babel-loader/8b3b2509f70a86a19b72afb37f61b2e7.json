{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nexport default function useBasket() {\n  _s();\n\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.auth.currUser);\n  const cart = useSelector(state => state.cart.cart);\n  const history = useHistory();\n\n  const addBasket = async obj => {\n    if (auth) {\n      let newItem = await axios.post(\"http://localhost:9000/editCart\", {\n        id: auth._id,\n        items: basketObj,\n        operation: \"increase\"\n      });\n      console.log(newItem);\n      dispatch({\n        type: \"addInBasket\",\n        payload: newItem.data.cart\n      });\n    } else {\n      alert(\"please login first\");\n      history.push(\"/login\");\n    }\n  };\n\n  const removeBasket = async obj => {\n    if (auth) {\n      let newItem = await axios.post(\"http://localhost:9000/editCart\", {\n        id: auth._id,\n        items: cartObj,\n        operation: \"decrease\"\n      });\n      dispatch({\n        type: \"removeFromBasket\",\n        payload: newItem.data.cart\n      });\n    } else {\n      alert(\"please login first\");\n      history.push(\"/login\");\n    }\n  };\n\n  const deleteBasket = async obj => {\n    if (auth) {\n      let newItem = await axios.post(\"http://localhost:9000/editCart\", {\n        id: auth._id,\n        items: newObj,\n        operation: \"remove\"\n      });\n      console.log(newItem.data.cart);\n      dispatch({\n        type: \"deleteItem\",\n        payload: newItem.data.cart\n      });\n    } else {\n      alert(\"please login first\");\n      history.push(\"/login\");\n    }\n  };\n\n  return [addBasket, removeBasket, deleteBasket];\n}\n\n_s(useBasket, \"VSvlCsgXStevtuEKNmnvqRTZk6E=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useHistory];\n});","map":{"version":3,"sources":["/home/avnish.singh/Avnish/grocery-app/client/src/component/useBasket.js"],"names":["axios","React","useDispatch","useSelector","useHistory","useBasket","dispatch","auth","state","currUser","cart","history","addBasket","obj","newItem","post","id","_id","items","basketObj","operation","console","log","type","payload","data","alert","push","removeBasket","cartObj","deleteBasket","newObj"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAChC,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AACA,QAAMK,IAAI,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,IAAN,CAAWE,QAArB,CAAxB;AACA,QAAMC,IAAI,GAAGP,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACE,IAAN,CAAWA,IAArB,CAAxB;AACA,QAAMC,OAAO,GAAGP,UAAU,EAA1B;;AAEA,QAAMQ,SAAS,GAAG,MAAOC,GAAP,IAAe;AAC7B,QAAIN,IAAJ,EAAU;AAEN,UAAIO,OAAO,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAW,gCAAX,EAA6C;AAAEC,QAAAA,EAAE,EAAET,IAAI,CAACU,GAAX;AAAgBC,QAAAA,KAAK,EAAEC,SAAvB;AAAkCC,QAAAA,SAAS,EAAE;AAA7C,OAA7C,CAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ;AACAR,MAAAA,QAAQ,CAAC;AACLiB,QAAAA,IAAI,EAAE,aADD;AAELC,QAAAA,OAAO,EAAEV,OAAO,CAACW,IAAR,CAAaf;AAFjB,OAAD,CAAR;AAIH,KARD,MAQO;AACHgB,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACAf,MAAAA,OAAO,CAACgB,IAAR,CAAa,QAAb;AACH;AACJ,GAbD;;AAcA,QAAMC,YAAY,GAAG,MAAOf,GAAP,IAAe;AAChC,QAAIN,IAAJ,EAAU;AAEN,UAAIO,OAAO,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAW,gCAAX,EAA6C;AAAEC,QAAAA,EAAE,EAAET,IAAI,CAACU,GAAX;AAAgBC,QAAAA,KAAK,EAAEW,OAAvB;AAAgCT,QAAAA,SAAS,EAAE;AAA3C,OAA7C,CAApB;AACAd,MAAAA,QAAQ,CAAC;AACLiB,QAAAA,IAAI,EAAE,kBADD;AAELC,QAAAA,OAAO,EAAEV,OAAO,CAACW,IAAR,CAAaf;AAFjB,OAAD,CAAR;AAIH,KAPD,MAQK;AACDgB,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACAf,MAAAA,OAAO,CAACgB,IAAR,CAAa,QAAb;AACH;AACJ,GAbD;;AAcA,QAAMG,YAAY,GAAG,MAAOjB,GAAP,IAAe;AAEhC,QAAIN,IAAJ,EAAU;AAEN,UAAIO,OAAO,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAW,gCAAX,EAA6C;AAAEC,QAAAA,EAAE,EAAET,IAAI,CAACU,GAAX;AAAgBC,QAAAA,KAAK,EAAEa,MAAvB;AAA+BX,QAAAA,SAAS,EAAE;AAA1C,OAA7C,CAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAO,CAACW,IAAR,CAAaf,IAAzB;AACAJ,MAAAA,QAAQ,CAAC;AACLiB,QAAAA,IAAI,EAAE,YADD;AAELC,QAAAA,OAAO,EAAEV,OAAO,CAACW,IAAR,CAAaf;AAFjB,OAAD,CAAR;AAIH,KARD,MAQO;AACHgB,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACAf,MAAAA,OAAO,CAACgB,IAAR,CAAa,QAAb;AACH;AACJ,GAdD;;AAeA,SAAO,CAACf,SAAD,EAAYgB,YAAZ,EAA0BE,YAA1B,CAAP;AACH;;GAlDuBzB,S;UACHH,W,EACJC,W,EACAA,W,EACGC,U","sourcesContent":["import axios from 'axios';\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nexport default function useBasket() {\n    const dispatch = useDispatch();\n    const auth = useSelector(state => state.auth.currUser)\n    const cart = useSelector(state => state.cart.cart)\n    const history = useHistory()\n\n    const addBasket = async (obj) => {\n        if (auth) {\n\n            let newItem = await axios.post(\"http://localhost:9000/editCart\", { id: auth._id, items: basketObj, operation: \"increase\" })\n            console.log(newItem);\n            dispatch({\n                type: \"addInBasket\",\n                payload: newItem.data.cart,\n            });\n        } else {\n            alert(\"please login first\")\n            history.push(\"/login\")\n        }\n    };\n    const removeBasket = async (obj) => {\n        if (auth) {\n\n            let newItem = await axios.post(\"http://localhost:9000/editCart\", { id: auth._id, items: cartObj, operation: \"decrease\" })\n            dispatch({\n                type: \"removeFromBasket\",\n                payload: newItem.data.cart,\n            });\n        }\n        else {\n            alert(\"please login first\")\n            history.push(\"/login\")\n        }\n    };\n    const deleteBasket = async (obj) => {\n\n        if (auth) {\n\n            let newItem = await axios.post(\"http://localhost:9000/editCart\", { id: auth._id, items: newObj, operation: \"remove\" })\n            console.log(newItem.data.cart);\n            dispatch({\n                type: \"deleteItem\",\n                payload: newItem.data.cart,\n            });\n        } else {\n            alert(\"please login first\")\n            history.push(\"/login\")\n        }\n    };\n    return [addBasket, removeBasket, deleteBasket];\n}\n"]},"metadata":{},"sourceType":"module"}