{"ast":null,"code":"import { LOGIN, SIGN_UP, SIGN_OUT, GET_USER, EDIT_USER, LOADING } from \"../descriptor/descriptors\";\nlet initialState = {\n  loading: true,\n  currUser: null,\n  error: false\n};\n\nconst auth = (state = initialState, action) => {\n  console.log(state.currUser);\n  console.log(state.data);\n\n  switch (action.type) {\n    case GET_USER:\n      console.log(action.payload);\n      return { ...state,\n        currUser: action.payload,\n        loading: false\n      };\n\n    case LOGIN:\n      localStorage.setItem(\"jwt\", action.payload.token);\n      console.log(\"login auth\", action.payload);\n      return { ...state,\n        currUser: action.payload.user\n      };\n\n    case SIGN_UP:\n      localStorage.setItem(\"jwt\", action.payload.token);\n      return state;\n\n    case SIGN_OUT:\n      localStorage.setItem(\"jwt\", null);\n      return { ...state,\n        currUser: null\n      };\n\n    case EDIT_USER:\n      let newUser = action.payload;\n      return { ...state,\n        currUser: newUser\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["/home/avnish.singh/Avnish/grocery-app/client/src/store/reducers/auth.js"],"names":["LOGIN","SIGN_UP","SIGN_OUT","GET_USER","EDIT_USER","LOADING","initialState","loading","currUser","error","auth","state","action","console","log","data","type","payload","localStorage","setItem","token","user","newUser"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,OAAhB,EAAyBC,QAAzB,EAAmCC,QAAnC,EAA6CC,SAA7C,EAAwDC,OAAxD,QAAwE,2BAAxE;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,OAAO,EAAE,IADM;AAEfC,EAAAA,QAAQ,EAAE,IAFK;AAGfC,EAAAA,KAAK,EAAE;AAHQ,CAAnB;;AAMA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACH,QAAlB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,IAAlB;;AACA,UAAQH,MAAM,CAACI,IAAf;AACI,SAAKb,QAAL;AACIU,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACK,OAAnB;AAEA,aAAO,EACH,GAAGN,KADA;AAEHH,QAAAA,QAAQ,EAAEI,MAAM,CAACK,OAFd;AAGHV,QAAAA,OAAO,EAAE;AAHN,OAAP;;AAMJ,SAAKP,KAAL;AACIkB,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BP,MAAM,CAACK,OAAP,CAAeG,KAA3C;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,MAAM,CAACK,OAAjC;AACA,aAAO,EACH,GAAGN,KADA;AAEHH,QAAAA,QAAQ,EAAEI,MAAM,CAACK,OAAP,CAAeI;AAFtB,OAAP;;AAIJ,SAAKpB,OAAL;AACIiB,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BP,MAAM,CAACK,OAAP,CAAeG,KAA3C;AAEA,aAAOT,KAAP;;AAEJ,SAAKT,QAAL;AACIgB,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4B,IAA5B;AACA,aAAO,EACH,GAAGR,KADA;AAEHH,QAAAA,QAAQ,EAAE;AAFP,OAAP;;AAIJ,SAAKJ,SAAL;AACI,UAAIkB,OAAO,GAAGV,MAAM,CAACK,OAArB;AACA,aAAO,EACH,GAAGN,KADA;AAEHH,QAAAA,QAAQ,EAAEc;AAFP,OAAP;;AAKJ;AACI,aAAOX,KAAP;AApCR;AAsCH,CAzCD;;AA4CA,eAAeD,IAAf","sourcesContent":["import { LOGIN, SIGN_UP, SIGN_OUT, GET_USER, EDIT_USER, LOADING, } from \"../descriptor/descriptors\";\n\nlet initialState = {\n    loading: true,\n    currUser: null,\n    error: false\n};\n\nconst auth = (state = initialState, action) => {\n    console.log(state.currUser);\n    console.log(state.data);\n    switch (action.type) {\n        case GET_USER:\n            console.log(action.payload);\n\n            return {\n                ...state,\n                currUser: action.payload,\n                loading: false\n            }\n\n        case LOGIN:\n            localStorage.setItem(\"jwt\", action.payload.token)\n            console.log(\"login auth\", action.payload);\n            return {\n                ...state,\n                currUser: action.payload.user,\n            };\n        case SIGN_UP:\n            localStorage.setItem(\"jwt\", action.payload.token)\n\n            return state\n\n        case SIGN_OUT:\n            localStorage.setItem(\"jwt\", null)\n            return {\n                ...state,\n                currUser: null,\n            };\n        case EDIT_USER:\n            let newUser = action.payload\n            return {\n                ...state,\n                currUser: newUser,\n            };\n\n        default:\n            return state;\n    }\n};\n\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}